<!DOCTYPE html>
<html lang="en">
        <head>
                <meta charset="UTF-8" />
                <meta name="viewport" content="width=device-width, initial-scale=1.0" />
                <title>Admin Page</title>
                <!-- Stylesheets-->
                <link rel="stylesheet" href="styles/styles.css" />
                <link
                        rel="stylesheet"
                        href="//cdn.datatables.net/2.3.4/css/dataTables.dataTables.min.css"
                />
                <script src="js/guestbook.js" defer></script>
                <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
                <script src="//cdn.datatables.net/2.3.4/js/dataTables.min.js"></script>
        </head>
        <body>
                <%- include('partials/nav') %>
                <h1>Admin Page</h1>
                <table id="bookings-table" class="display">
                        <thead>
                                <tr>
                                        <th>Name</th>
                                        <th>Email</th>
                                        <th>Job Title</th>
                                        <th>Company</th>
                                        <th>LinkedIn</th>
                                        <th>How We Met</th>
                                        <th>Other</th>
                                        <th>Message</th>
                                        <th>Mailing List</th>
                                        <th>Email Format</th>
                                        <th>Date/Time</th>
                                </tr>
                        </thead>
                        <tbody>
                                <% contact.forEach(contact => { %>
                                <tr>
                                        <td><%= contact.firstName %> <%= contact.lastName %></td>
                                        <td><%= contact.email %></td>
                                        <td><%= contact.jobTitle || 'N/A' %></td>
                                        <td><%= contact.company || 'N/A' %></td>
                                        <td><%= contact.linkedIn || 'N/A' %></td>
                                        <td><%= contact.howWeMet %></td>
                                        <td><%= contact.other || 'N/A' %></td>
                                        <td><%= contact.message || 'N/A' %></td>
                                        <td><%= contact.mailingList ? 'Yes' : 'No' %></td>
                                        <td><%= contact.emailFormat %></td>
                                        <td><%= new Date(contact.timestamp).toLocaleString() %></td>
                                </tr>
                                <% }); %>
                        </tbody>
                </table>
                <script>
                        let table = new DataTable("#bookings-table");
                </script>
        </body>
</html>
